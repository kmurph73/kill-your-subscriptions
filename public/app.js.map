{"version":3,"sources":["app/components/App.jsx","app/components/subscription_modal.jsx","app/initialize.js"],"names":["App","props","state","apps","window","activeTab","e","val","currentTarget","value","matches","findMatches","setState","query","some","a","test","terse","push","length","RegExp","replace","searchMatches","findFromStart","findFromQuery","preventDefault","app","selected","tab","width","classes","clickApp","name","renderSelected","onInput","height","clickAddSubscription","map","renderItem","textAlign","active","switchTab","renderTabContent","React","Component","SubscriptionModal","modal","toggle","bind","stopPropagation","buttonLabel","className","onSubmit","time","Date","now","document","addEventListener","fetch","then","r","json","toLowerCase","ReactDOM","render","querySelector"],"mappings":"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","file":"public/app.js","sourcesContent":["import React from 'react';\nimport bindAll from 'lodash/bindAll';\nimport classnames from 'classnames';\n\nimport { Button, Nav, NavItem, NavLink } from 'reactstrap';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    bindAll(this, ['onInput', 'findMatches', 'switchTab', 'renderItem'])\n\n    this.state = {\n      apps: window.apps,\n      activeTab: '1'\n    }\n  }\n\n  onInput(e) {\n    let val = e.currentTarget.value;\n\n    let matches = this.findMatches(val);\n\n    this.setState({\n      apps: matches\n    })\n  }\n\n  searchMatches(query) {\n    let matches = [];\n\n    window.apps.some((a) => {\n      if (query.test(a.terse)) {\n        matches.push(a)\n      }\n\n      return matches.length >= 20;\n    })\n\n    return matches\n  }\n\n  findFromQuery(query) {\n    query = new RegExp(query.replace(/\\s|\\(|\\)/, ''), \"i\")\n\n    return this.searchMatches(query)\n  }\n\n  findFromStart(query) {\n    query = new RegExp('^' + query.replace(/\\s|\\(|\\)/, ''), \"i\")\n\n    return this.searchMatches(query)\n  }\n\n  findMatches(query) {\n    let matches = [];\n\n    if (query.length > 2) {\n      matches = this.findFromStart(query)\n    }\n\n    if (!matches.length) {\n      matches = this.findFromQuery(query)\n    }\n\n    return matches;\n  }\n\n  clickAddSubscription(e) {\n    e.preventDefault()\n  }\n\n  clickApp(app) {\n    if (!app.selected) {\n      app.selected = true\n\n      this.setState(this.state)\n    }\n  }\n\n  switchTab(tab) {\n    this.setState({ activeTab: tab })\n  }\n\n  renderSelected() {\n    return (\n      <div className=\"center-between\">\n        <div className=\"center money-div mr-2\">\n          <div>$</div>\n          <div className=\"center money-box\">\n            <input placeholder='0.00' />\n          </div>\n          <div className='per-what'>/mo</div>\n        </div>\n\n        <img className=\"mx-2\" style={{width: 20}} src='/check.svg' />\n      </div>\n    )\n  }\n\n  renderItem(app) {\n    let classes = classnames({selected: app.selected});\n\n    return (\n      <div className={\"center-between app-item \" + classes} onClick={() => this.clickApp(app)}  key={app.terse}>\n        <div>{app.name}</div>\n\n        {app.selected ? this.renderSelected() : null}\n      </div>\n    )\n  }\n\n  renderTabContent() {\n    if (this.state.activeTab === '1') {\n      return (\n        <div>\n          <div className=\"center mt-2\">\n            <input onInput={this.onInput} style={{width: '90%', height: 40}} className='form-control mb-2' placeholder=\"Search subscriptions\" />\n          </div>\n\n          <div className=\"center mt-1\">\n            <Button onClick={this.clickAddSubscription} outline color=\"primary\">Add Subscription</Button>{' '}\n          </div>\n\n          <div className=\"center mt-1\">\n            <div className=\"list-group\" className='mt-1' style={{width: 400}}>\n              {this.state.apps.map(this.renderItem)}\n            </div>\n          </div>\n        </div>\n      )\n    } else {\n      <p>your subs</p>\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"content\">\n        <h5 style={{textAlign: 'center'}}>Let's kill your subscriptions.</h5>\n\n        <Nav tabs>\n          <NavItem>\n            <NavLink\n              className={classnames({ active: this.state.activeTab === '1' })}\n              onClick={() => { this.switchTab('1'); }}\n            >\n              Subscriptions\n            </NavLink>\n          </NavItem>\n          <NavItem>\n            <NavLink\n              className={classnames({ active: this.state.activeTab === '2' })}\n              onClick={() => { this.switchTab('2'); }}\n            >\n              Your Subscriptions\n            </NavLink>\n          </NavItem>\n        </Nav>\n\n        {this.renderTabContent()}\n\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport bindAll from 'lodash/bindAll';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nclass SubscriptionModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modal: false\n    };\n\n    bindAll(this, ['toggle', 'onSubmit']);\n\n    this.toggle = this.toggle.bind(this);\n  }\n\n  toggle(e) {\n    e.preventDefault()\n    e.stopPropagation()\n\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n  }\n\n  render() {\n    return (\n      <div>\n        <Button color=\"danger\" onClick={this.toggle}>{this.props.buttonLabel}</Button>\n        <Modal isOpen={this.state.modal} toggle={this.toggle} className={this.props.className}>\n          <ModalHeader toggle={this.toggle}>Add a subscription</ModalHeader>\n          <ModalBody>\n            <Form onSubmit={this.onSubmit}>\n              <Input placeholder=\"subscription name\" />\n\n              <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n              <Button color=\"primary\" onClick={this.toggle}>Add</Button>{' '}\n            </Form>\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nexport default SubscriptionModal;\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from 'components/App';\n\nlet time = Date.now()\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetch('/subscription_apps.json').then(r => r.json()).then((json) => {\n    window.apps = json.apps.map((app) => {\n      return {\n        name: app,\n        terse: app.toLowerCase().replace(/\\s/, '')\n      }\n    });\n\n    ReactDOM.render(<App />, document.querySelector('#app'));\n  });\n});\n"]}