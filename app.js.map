{"version":3,"sources":["app/components/apps_view.jsx","app/components/cancel_button.jsx","app/components/subscription_modal.jsx","app/initialize.js","app/models/app.js","app/util.js"],"names":["AppsView","props","modalRef","React","createRef","state","apps","App","allToJSON","amountMode","localStorage","setItem","JSON","stringify","json","getAll","e","preventDefault","current","openWith","blankApp","app","selected","saveToLocalStorage","resetAppsState","setState","stopPropagation","attr","val","currentTarget","value","amount","replace","uuid","clickCheck","width","current_amount_cents","starting_amount_cents","confirm","remove","clone","name","amountInputted","amountBlurred","frequency","clickEdit","clickTrash","mode","txt","clickAddSubscription","handleAmountModeChange","map","renderItem","data","find","Object","assign","addApp","toggle","maxWidth","onSubmitModal","sumStartingAmountsCents","sumCurrentAmountsCents","renderContent","Component","CancelButton","bind","tooltipOpen","SubscriptionModal","modal","getAttribute","className","onSubmit","onInput","blah","time","Date","now","document","addEventListener","fetch","then","r","window","ReactDOM","render","querySelector","json_attrs","attrs","prop","starting_amount_cents_value","current_amount_cents_value","toLowerCase","terse","tersify","Math","round","toJSON","a","parse","getItem","website","filter","push","monthlyStartingAmount","monthlyCurrentAmount","genUUID","email","uuidv5","URL","dollarStringToCents","money_string","parseFloat","centsToDollaString","x","dollar_sign","cents","length","dollars","substr","decimal","str"],"mappings":"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","file":"public/app.js","sourcesContent":["import React from 'react';\nimport bindAll from 'lodash/bindAll';\nimport clone from 'lodash/clone';\nimport classnames from 'classnames';\n\nimport { dollarStringToCents, centsToDollaString } from '../util.js';\nimport Toggle from 'react-toggle'\n\nimport App from 'models/app.js';\nimport SubscriptionModal from './subscription_modal.jsx';\n\nimport { UncontrolledTooltip, Button, Nav, NavItem, NavLink, Tooltip } from 'reactstrap';\n\nexport default class AppsView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    bindAll(this, ['renderItem', 'renderSelected', 'clickCheck', 'render', 'handleAmountModeChange', 'clickEdit', 'clickAddSubscription', 'onSubmitModal'])\n\n    this.modalRef = React.createRef()\n\n    this.state = {\n      apps: App.allToJSON(),\n      amountMode: 'starting'\n    }\n  }\n\n  save() {\n    localStorage.setItem('addresses', JSON.stringify(json || this.getAll()))\n  }\n\n  clickAddSubscription(e) {\n    e.preventDefault()\n\n    this.modalRef.current.openWith(App.blankApp());\n  }\n\n  clickApp(app) {\n    if (!app.selected) {\n      app.selected = true\n\n      App.saveToLocalStorage()\n      this.resetAppsState()\n    }\n  }\n\n  resetAppsState() {\n    App.saveToLocalStorage()\n\n    this.setState({\n      apps: App.allToJSON()\n    })\n  }\n\n  clickCheck(e, app) {\n    e.stopPropagation()\n    e.preventDefault()\n\n    app.selected = false;\n\n    this.resetAppsState()\n  }\n\n  amountInputted(e, app) {\n    let attr = `${this.state.amountMode}_amount_cents`;\n    let val = e.currentTarget.value;\n    let amount = dollarStringToCents(val);\n\n    if (amount < 0) amount = 0\n\n    app[`${this.state.amountMode}_amount_cents_value`] = val\n    app[attr] = amount\n\n    this.resetAppsState()\n  }\n\n  amountBlurred(e, app) {\n    let val = e.currentTarget.value;\n\n    if (val) {\n      val = centsToDollaString(dollarStringToCents(val)).replace('$', '')\n    }\n\n    app[`${this.state.amountMode}_amount_cents_value`] = val\n    this.resetAppsState()\n  }\n\n  renderSelected(app) {\n    let amount = app[`${this.state.amountMode}_amount_cents_value`] || ''\n\n    return (\n      <div className=\"center-between\" key={app.uuid}>\n\n        <img onClick={e => this.clickCheck(e, app)} className=\"check mx-2\" style={{width: 20}} src='check.svg' />\n      </div>\n    )\n  }\n\n  handleAmountModeChange(e) {\n    this.setState({\n      amountMode: this.state.amountMode === 'starting' ? 'current' : 'starting'\n    })\n  }\n\n  clickTrash(e, app) {\n    e.stopPropagation()\n\n    if (app.current_amount_cents || app.starting_amount_cents) {\n      if (!confirm(\"Are you sure?\")) {\n        return;\n      }\n\n    }\n\n    App.remove(app)\n    this.resetAppsState()\n  }\n\n  clickEdit(e, app) {\n    e.stopPropagation()\n\n    this.modalRef.current.openWith(app.clone(), app.uuid)\n  }\n\n  renderItem(app) {\n    let amount = app[`${this.state.amountMode}_amount_cents_value`] || ''\n\n    return (\n      <div className={\"center-between app-item\"} key={app.uuid}>\n        <div>\n          <div>{app.name}</div>\n        </div>\n\n        <div className='center'>\n          <div className=\"center money-div mr-2\">\n            <div>$</div>\n            <input value={amount} type=\"number\" className='money-box' placeholder='0.00' onChange={e => this.amountInputted(e, app)} onBlur={e => this.amountBlurred(e, app)} />\n            <div className='per-what'>/{app.frequency == 'monthly' ? 'mo' : 'yr'}</div>\n          </div>\n\n          <img onClick={e => this.clickEdit(e, app)} className=\"check mx-2\" style={{width: 20}} src='pencil.svg' />\n          <img onClick={e => this.clickTrash(e, app)} className=\"check mx-2\" style={{width: 20}} src='trash-empty.svg' />\n        </div>\n      </div>\n    )\n  }\n\n  renderContent() {\n    let mode = this.state.amountMode;\n    let txt = mode === 'starting' ? 'Starting amounts' : 'Current amounts';\n\n    let apps = App.getAll()\n\n    return (\n      <div>\n        <div className=\"center-between mt-1\">\n          <Button size=\"sm\" onClick={this.clickAddSubscription} outline color=\"primary\">Add Subscription</Button>{' '}\n          <div className=\"center\">\n            <Toggle\n              id='amount-mode'\n              defaultChecked={this.state.amountMode == 'starting'}\n              icons={false}\n              onChange={this.handleAmountModeChange} />\n            <span className=\"ml-1\" id='amount-mode' style={{width: 98}}>{txt}</span>\n          </div>\n        </div>\n\n        <div className=\"center mt-1\">\n          <div className=\"list-group\" className='mt-1' style={{width: 400}}>\n            {apps.map(this.renderItem)}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  onSubmitModal(data, uuid) {\n    if (uuid) {\n      let app = App.find(uuid);\n      Object.assign(app, data)\n    } else {\n      App.addApp(data);\n    }\n\n    this.modalRef.current.toggle()\n    this.resetAppsState()\n  }\n\n  render() {\n    return (\n      <div className='container' id=\"content\" style={{maxWidth: 450}}>\n        <SubscriptionModal ref={this.modalRef} onSubmitModal={this.onSubmitModal} />\n\n        <h5 className='lets-kill'>Let's kill your subscriptions.</h5>\n\n        <div className='my-2'>\n          <span className='amount-label'>Starting amount:</span>\n          <span className='ml-2 amount'>\n            {centsToDollaString(App.sumStartingAmountsCents())} / mo\n          </span>\n        </div>\n\n        <div className='my-2'>\n          <span className='amount-label'>Current amount:</span>\n          <span className='ml-2 amount'>\n            {centsToDollaString(App.sumCurrentAmountsCents())} / mo\n          </span>\n        </div>\n\n        {this.renderContent()}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { UncontrolledTooltip } from 'reactstrap';\n\nexport default class CancelButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      tooltipOpen: false\n    };\n  }\n\n  toggle() {\n    this.setState({\n      tooltipOpen: !this.state.tooltipOpen\n    });\n  }\n\n  render() {\n    return (\n      <div>\n      </div>\n    )\n  }\n\n}\n","import React from 'react';\nimport bindAll from 'lodash/bindAll';\nimport App from '../models/app';\nimport { FormGroup, Label, Form, Input, Button, Modal, ModalHeader, ModalBody, ModalFooter } from 'reactstrap';\n\nclass SubscriptionModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      modal: false,\n      app: App.blankApp()\n    };\n\n    bindAll(this, ['onSubmit', 'toggle', 'openWith', 'onInput']);\n  }\n\n  onSubmit(e) {\n    e.preventDefault()\n\n    this.props.onSubmitModal(this.state.app, this.state.uuid)\n  }\n\n  toggle() {\n    this.setState({\n      modal: !this.state.modal\n    });\n  }\n\n  openWith(app, uuid) {\n    this.setState({\n      modal: true,\n      uuid: uuid,\n      app: app\n    })\n\n    this.toggle();\n  }\n\n  onInput(e) {\n    let val = e.currentTarget.value\n    let name = e.currentTarget.getAttribute('name')\n\n    this.state.app[name] = val;\n    this.setState(this.state)\n  }\n\n  render() {\n    return (\n      <Modal toggle={this.toggle} isOpen={this.state.modal} className={this.props.className}>\n        <ModalHeader>Add a subscription</ModalHeader>\n        <ModalBody>\n          <Form onSubmit={this.onSubmit}>\n            <FormGroup className='d-flex'>\n              <Input name='name' placeholder=\"subscription name\" value={this.state.app.name} onChange={this.onInput} />\n\n            </FormGroup>\n\n            <FormGroup className=\"center\">\n              <Input type=\"select\" name=\"frequency\"  value={this.state.app.frequency} onChange={this.onInput} style={{width: 100}} >\n                <option>monthly</option>\n                <option>yearly</option>\n              </Input>\n\n              <Input placeholder=\"0.00\" className=\"ml-2\" type=\"number\" name='amount' value={this.state.app.blah} onChange={this.onInput} />\n            </FormGroup>\n\n            <div className='center-between mt-3'>\n              <Button color=\"secondary\" onClick={this.toggle}>Cancel</Button>\n              <Button color=\"primary\">{this.state.uuid ? 'Update' : 'Add'}</Button>{' '}\n            </div>\n          </Form>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nexport default SubscriptionModal;\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport App from 'models/app.js';\nimport AppsView from 'components/apps_view.jsx';\n\nlet time = Date.now()\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetch('subscription_apps.json').then(r => r.json()).then((json) => {\n    window.apps = json.apps;\n\n    ReactDOM.render(<AppsView />, document.querySelector('#app'));\n  });\n});\n","import { genUUID } from '../util.js';\nimport sumBy from 'lodash/sumBy';\nimport map from 'lodash/map';\n\nconst json_attrs = ['uuid', 'name', 'selected', 'starting_amount_cents', 'current_amount_cents', 'frequency', 'website']\n\nimport { centsToDollaString } from '../util.js';\n\nclass App {\n  constructor(attrs) {\n    for (let prop in attrs) {\n      this[prop] = attrs[prop];\n    }\n\n    this.starting_amount_cents_value = attrs.starting_amount_cents ? centsToDollaString(attrs.starting_amount_cents).replace('$', '') : ''\n    this.current_amount_cents_value = attrs.current_amount_cents ? centsToDollaString(attrs.current_amount_cents).replace('$', '') : ''\n\n    if (!this.uuid) {\n      this.uuid = genUUID(attrs.name);\n    }\n  }\n\n  tersify(name) {\n    return name.toLowerCase().replace(/\\s/, '')\n  }\n\n  setName(name) {\n    this.name = name\n    this.terse = this.tersify(name)\n\n    App.saveToLocalStorage()\n  }\n\n  monthlyCurrentAmount() {\n    return this.frequency === 'monthly' ? this.current_amount_cents : Math.round(this.current_amount_cents / 12)\n  }\n\n  monthlyStartingAmount() {\n    return this.frequency === 'monthly' ? this.starting_amount_cents : Math.round(this.starting_amount_cents / 12)\n  }\n\n  setSelected(val) {\n    this.selected = val\n\n    App.saveToLocalStorage()\n  }\n\n  clone() {\n    let app = Object.assign(App.blankApp(), this.toJSON())\n    delete app.uuid\n\n    return app;\n  }\n\n  static getAll() {\n    if (this.apps) { return this.apps; }\n\n    const apps = JSON.parse(localStorage.getItem('apps')) || window.apps;\n    this.apps = apps.map(a => new App(a));\n\n    return this.apps;\n  }\n\n  toJSON() {\n    const json = {};\n\n    for (let a of json_attrs) {\n      json[a] = this[a];\n    }\n\n    return json;\n  }\n\n  static blankApp() {\n    return {\n      name: '',\n      amount: '',\n      website: '',\n      frequency: 'monthly'\n    }\n  }\n\n  static find(uuid) {\n    return App.getAll().find(a => a.uuid === uuid);\n  }\n\n  static remove(app) {\n    this.apps = this.getAll().filter(a => a.uuid != app.uuid)\n    App.saveToLocalStorage()\n  }\n\n  static addApp(data) {\n    let app = new App(data)\n    App.getAll().push(app)\n    App.saveToLocalStorage()\n  }\n\n  static allToJSON() {\n    return map(this.getAll(), a => a.toJSON())\n  }\n\n  static sumStartingAmountsCents() {\n    return sumBy(App.getAll(), app => app.monthlyStartingAmount() || 0)\n  }\n\n  static sumCurrentAmountsCents() {\n    return sumBy(App.getAll(), app => app.monthlyCurrentAmount() || 0)\n  }\n\n  static saveToLocalStorage(json) {\n    localStorage.setItem('apps', JSON.stringify(this.getAll()));\n  }\n}\n\nexport default App;\n","import uuidv5 from 'uuid/v5';\n\nexport const genUUID = function(email) {\n  return uuidv5(email, uuidv5.URL);\n}\n\n// eg 9.99 => 999, or $7.77 => 777\n// HT: https://codereview.stackexchange.com/a/3530\nexport const dollarStringToCents = function(money_string) {\n  return Math.round(100 * parseFloat(money_string.replace(/[$,]/g, '')));\n}\n\n// http://stackoverflow.com/a/33286686/548170\nexport const centsToDollaString = function(x, dollar_sign) {\n  if (dollar_sign == null) { dollar_sign = true; }\n  let cents = x + '';\n  while (cents.length < 4) {\n    cents = `0${cents}`;\n  }\n  let dollars = cents.substr(0, cents.length - 2);\n  const decimal = cents.substr(cents.length - 2, 2);\n  while ((dollars.length % 3) !== 0) {\n    dollars = `0${dollars}`;\n  }\n  const str = dollars.replace(/(\\d{3})(?=\\d)/g, '$1,').replace(/^0*(?=.)/, '');\n  return (dollar_sign ? '$' : '') + str + '.' + decimal;\n}\n"]}